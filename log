==71086== Memcheck, a memory error detector
==71086== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==71086== Using Valgrind-3.18.1 and LibVEX; rerun with -h for copyright info
==71086== Command: ./webserv conf/test.conf
==71086== 
file: conf/test.conf
[41mServer 1:[0m
[32mHost:Ports: [0m
127.0.0.1:8888
[32mIp:Ports: [0m
[32mServer Names: [0m
[32mRoot: [0m/home/dtome-pe/repos/webserv
[32mMax body size: [0m1048576
[32mError pages: [0m
[32mIndex:[0m
[32mUpload store: [0m

[1mLOCATIONS: [0m

[1m[32mLocation 1: [0m/html/
[32mAutoindex: [0mon
[32mUpload store: [0m
[32mIndex:[0m
[32mAllow methods: [0mGET: yes | POST: no | DELETE: yes | PUT: no
[32mRoot: [0m

[1m[32mLocation 2: [0m/cgi-bin
[32mAutoindex: [0moff
[32mUpload store: [0m
[32mIndex:[0m
[32mAllow methods: [0mGET: yes | POST: yes | DELETE: no | PUT: no
[32mCGI: [0m
Extension => .py | Path => /usr/bin/pyth1233
[32mRoot: [0m
i: 0 client 4 with ip: 127.0.0.1:60792 added. It points to fd 3
i: 1 Pollin. fd es: 4 client fd: 4 has request: 0
i: 1 Pollin. fd es: 4 client fd: 4 has request: 0x4deb6b0 and its listener is: 3
i: 1 Pollin. fd es: 4 client fd: 4 has request: 0x4deb6b0 and its listener is: 3
i: 1 Pollin. fd es: 4 client fd: 4 has request: 0x4deb6b0 and its listener is: 3
i: 1 Pollin. fd es: 4 client fd: 4 has request: 0x4deb6b0 and its listener is: 3
i: 1 Pollin. fd es: 4 client fd: 4 has request: 0x4deb6b0 and its listener is: 3
DONE. fd: 4
i: 1Pollout. pollfd es: 4client fd: 4
req en write to: GET /html/read_file.html HTTP/1.1
Host: 127.0.0.1:8888
User-Agent: Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:125.0) Gecko/20100101 Firefox/125.0
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,*/*;q=0.8
Accept-Language: en-US,en;q=0.5
Accept-Encoding: gzip, deflate, br
Connection: keep-alive
Upgrade-Insecure-Requests: 1
Sec-Fetch-Dest: document
Sec-Fetch-Mode: navigate
Sec-Fetch-Site: none
Sec-Fetch-User: ?1
Pragma: no-cache
Cache-Control: no-cache


==71086== Invalid read of size 1
==71086==    at 0x123F48: Request::getCgi() (in /home/dtome-pe/repos/webserv/webserv)
==71086==    by 0x137E29: Cluster::writeTo(unsigned int, Socket&) (in /home/dtome-pe/repos/webserv/webserv)
==71086==    by 0x137517: Cluster::run() (in /home/dtome-pe/repos/webserv/webserv)
==71086==    by 0x10E551: main (in /home/dtome-pe/repos/webserv/webserv)
==71086==  Address 0x204 is not stack'd, malloc'd or (recently) free'd
==71086== 
==71086== 
==71086== Process terminating with default action of signal 11 (SIGSEGV)
==71086==  Access not within mapped region at address 0x204
==71086==    at 0x123F48: Request::getCgi() (in /home/dtome-pe/repos/webserv/webserv)
==71086==    by 0x137E29: Cluster::writeTo(unsigned int, Socket&) (in /home/dtome-pe/repos/webserv/webserv)
==71086==    by 0x137517: Cluster::run() (in /home/dtome-pe/repos/webserv/webserv)
==71086==    by 0x10E551: main (in /home/dtome-pe/repos/webserv/webserv)
==71086==  If you believe this happened as a result of a stack
==71086==  overflow in your program's main thread (unlikely but
==71086==  possible), you can try to increase the size of the
==71086==  main thread stack using the --main-stacksize= flag.
==71086==  The main thread stack size used in this run was 8388608.
==71086== 
==71086== HEAP SUMMARY:
==71086==     in use at exit: 97,906 bytes in 240 blocks
==71086==   total heap usage: 649 allocs, 409 frees, 156,358 bytes allocated
==71086== 
==71086== LEAK SUMMARY:
==71086==    definitely lost: 592 bytes in 1 blocks
==71086==    indirectly lost: 2,554 bytes in 34 blocks
==71086==      possibly lost: 0 bytes in 0 blocks
==71086==    still reachable: 94,760 bytes in 205 blocks
==71086==         suppressed: 0 bytes in 0 blocks
==71086== Rerun with --leak-check=full to see details of leaked memory
==71086== 
==71086== For lists of detected and suppressed errors, rerun with: -s
==71086== ERROR SUMMARY: 1 errors from 1 contexts (suppressed: 0 from 0)
